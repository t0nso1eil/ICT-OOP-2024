# ICT-OOP-2024

## Команда  12 

**Тема:** Платформа для онлайн-консультаций с психологом (название - Все дело в папе)

**Состав команды:** 

* Кадникова Екатерина Михайловна
* Гуторова Инна Владимировна
* Бахарева Мария Александровна
* Могильный Михаил Игоревич
* Полухин Александр Владимирович

---

## Сущности и связи

## ERD-диаграмма

![erd-diagram.jpg](..%2F..%2F..%2FDownloads%2Ferd-diagram.jpg)

## Комментарии

### Клиент
1) проверка на формат введенных данных (отсутсвие пробелов в имени/фамилии)
2) почту проверять на уникальность и формат (оканчивается на @mail.ru/@gmail.com/)
3) проверка длины и формата номера телефона
4) возраст вычисляется отдельно по имеющемуся полю с датой рождения
5) пол принимает значения { "женщина", "мужчина" }

Поля:
1) client_id 
2) first_name
3) last_name
4) email
5) phone_number
6) password
7) birthday
8) age
9) sex
10) additional_info
11) registration_date

### Психолог:
1) --совпадает с constrains полей клиента--
2) специализация может принимать значения ???
3) стаж в годах выичисляется от поля с датой начала работы
4) оценка высчитывается как среднее из оценкок в отзывах

Поля:
1) psychologist_id
2) first_name
3) last_name
4) email
5) password
6) birthday
7) age
8) sex
9) specialization
10) experience_start_date
11) experience_years
12) additional_info
13) price_per_hour
14) rate
15) registration_date

### Отзыв:
1) оценка обязательнаяя (от 0 до 5)
2) текстовый отзыв не обязателен

### Сессия:
1) про статус сессии: 
* сессия создается как заявка со статусом "на согласовании"
* психолог подтверждает: статус "ожидает оплаты"
* если оплата прошла условно в течение суток-двух, то статус "назначена", иначе - "отменена", освобождается окошко
* в случае неотмены после проведения статус обновляется на "проведена"
2) сессия не хранит данные о времени и дате, но хранит идентификатор окошка

Поля: 
1) session_id
2) client_id
3) spot_id
4) status
5) price

_На подумать_: удалять отмененную запись запись из бд условно через неделю

### Окошко:
1) психолог добавляет в свое "расписание" доступные для записи окошки, которые могут видеть клиенты
2) клиент записывается в окошко, создается сессия (_см. [Сессия](README.md:72)_)
3) у окошка может быть статус { "доступно", "занято" }

Поля:
1) spot_id
2) psychologist_id
3) date
4) hour_start
5) hour_end
6) status

### Сообщение:
1) из двух идентификаторов один всегда null, а другой - нет (в зависимости от того, кто отправляет сообщение)

### Чат:

---

## Методы работы приложения

Методы работы приложения описаны в папке [ApplicationFunctions](ApplicationFunctions)


